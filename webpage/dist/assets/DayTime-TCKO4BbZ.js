import{d as j,o as v,a as w,b as a,t as d,Y as l,n as R,c,r,h as W,N as Y,f as i,a4 as B,a0 as E,a3 as V,a1 as U,a2 as q,i as G,_ as J}from"./index-x-Pp-ssI.js";import{a as K,F as P}from"./time-Ua8Kar7u.js";import{i as Q,a as X,b as Z}from"./install-SE4Uwj08.js";import{u as aa,i as x,a as ea,b as ta,c as sa,d as oa}from"./install-Z3eddXWy.js";const na={class:"py-1 px-3 text-center font-bold min-w-[150px] bg-white/20 border-white/20 border backdrop-blur rounded-full"},ia={class:"text-[1.1em]"},la={class:"text-sm font-normal"},da=j({__name:"DayComponent",props:{day:{},time:{}},setup(m){return(s,b)=>(v(),w("div",na,[a("div",ia,d(s.day),1),a("div",la,d(l(K)(s.time,!1,!1)),1)]))}}),f=m=>(U("data-v-e5e3ee5e"),m=m(),q(),m),_a={class:"flex flex-wrap gap-5"},ca={class:"card w-[40vw] max-w-[500px] h-[220px] animate__animated animate__fadeInDown"},ra=f(()=>a("div",{class:"card-title"},"你最忙碌的一个月",-1)),ma={class:"font-normal"},pa={class:"d"},ha={class:"d"},ua={class:"d"},ya={class:"card w-[40vw] max-w-[500px] h-[30vh] max-h-[220px] animate__animated animate__fadeInDown"},va=f(()=>a("div",{class:"card-title"},"你每周最忙碌的一天",-1)),fa={class:"font-normal"},xa={class:"d"},wa={class:"d"},ba={class:"card w-[40vw] max-w-[500px] h-[30vh] max-h-[220px] animate__animated animate__fadeInDown animate__delay-1s"},ga=f(()=>a("div",{class:"card-title"},"你每个月最忙碌的一天",-1)),ka={class:"font-normal"},Ca={class:"d"},Da={class:"card w-[40vw] max-w-[500px] h-[30vh] max-h-[220px] animate__animated animate__fadeInDown animate__delay-1s"},Ma=f(()=>a("div",{class:"card-title"},"你全年最忙碌的一天",-1)),Oa={class:"font-normal"},$a={class:"d"},Fa=["innerHTML"],Ia={class:"h-[130px] w-full overflow-scroll"},Ta={class:"my-4 flex flex-wrap gap-3"},Sa=j({__name:"DayTime",setup(m){var A;const s=R("data"),b=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],z=c(()=>{var e;return((e=s.value)==null?void 0:e.time_by_month[0][0])??0}),g=c(()=>{var e;return((e=s.value)==null?void 0:e.time_by_month[0][1])??0}),k=["周日","周一","周二","周三","周四","周五","周六"],C=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],N=c(()=>{var e;return k[C.indexOf(((e=s.value)==null?void 0:e.time_by_weekday[0][0])??"")]}),D=((A=s.value)==null?void 0:A.time_by_weekday[0][1])??0,M=c(()=>{var e;return`${((e=s.value)==null?void 0:e.year)??2023}-01-01`}),O=r(),h=r(null),$=r(),u=r(null),F=r(),y=r(null),I=c(()=>{var e,n,o;return{grid:{top:20,bottom:20,left:60,right:10},xAxis:{type:"category",data:b},yAxis:{type:"category",data:["时间"]},visualMap:{min:(((e=s.value)==null?void 0:e.time_by_month.map(t=>t[1]).reduce((t,_)=>Math.min(t,_),1e6))??0)/3600,max:(((n=s.value)==null?void 0:n.time_by_month.map(t=>t[1]).reduce((t,_)=>Math.max(t,_),0))??0)/3600,top:20,itemHeight:50,inRange:{color:["#d4eaf7","#004f6b"]}},tooltip:{formatter:t=>`${t.data[2].toFixed(2)} 小时`},series:[{type:"heatmap",data:(o=s.value)==null?void 0:o.time_by_month.map(t=>[t[0]-1,0,t[1]/3600]),label:{show:!1}}]}}),T=c(()=>{var e,n,o;return{grid:{top:20,bottom:20,left:60,right:10},xAxis:{type:"category",data:k},yAxis:{type:"category",data:["时间"]},visualMap:{min:(((e=s.value)==null?void 0:e.time_by_weekday[6][1])??0)/(3600*47),max:(((n=s.value)==null?void 0:n.time_by_weekday[0][1])??0)/(3600*47),top:20,itemHeight:50,inRange:{color:["#d4eaf7","#004f6b"]}},tooltip:{formatter:t=>`${t.data[2].toFixed(2)} 小时`},series:[{type:"heatmap",data:(o=s.value)==null?void 0:o.time_by_weekday.map(t=>[C.indexOf(t[0]),0,t[1]/(3600*47)]),label:{show:!1}}]}}),S=c(()=>{var e,n,o;return{grid:{top:20,bottom:20,left:60,right:10},xAxis:{type:"category",data:Array.from({length:10},(t,_)=>_+1)},yAxis:{type:"category",data:[20,10,0]},visualMap:{min:(((e=s.value)==null?void 0:e.time_by_month_day[29][1])??0)/(3600*12),max:(((n=s.value)==null?void 0:n.time_by_month_day[0][1])??0)/(3600*12),top:20,itemHeight:80,inRange:{color:["#d4eaf7","#004f6b"]}},tooltip:{formatter:t=>`${t.data[2].toFixed(2)} 小时`},series:[{type:"heatmap",data:(o=s.value)==null?void 0:o.time_by_month_day.map(t=>[(t[0]-1)%10,2-Math.floor((t[0]-1)/10),t[1]/(3600*12)]),label:{show:!1}}]}});return W(()=>{aa([ea,ta,sa,oa,Q,X,Z]),h.value=x(O.value),u.value=x($.value),y.value=x(F.value),h.value.setOption(I.value),u.value.setOption(T.value),y.value.setOption(S.value)}),Y(s,()=>{var e,n,o;(e=h.value)==null||e.setOption(I.value),(n=u.value)==null||n.setOption(T.value),(o=y.value)==null||o.setOption(S.value)}),onresize=()=>{var e,n,o;(e=h.value)==null||e.resize(),(n=u.value)==null||n.resize(),(o=y.value)==null||o.resize()},(e,n)=>{var o,t,_,L,H;return v(),w("div",_a,[a("div",ca,[ra,a("div",ma,[a("p",null,[i(" 你最忙碌的一个月是 "),a("span",pa,d(z.value),1),i(" 月 ")]),a("p",null,[i(" 这个月里你一共工作了 "),a("span",ha,d((g.value/3600).toFixed(2)),1),i("小时，平均每天 "),a("span",ua,d((g.value/(3600*30)).toFixed(2)),1),i(" 小时 ")])]),a("div",{ref_key:"monthChart",ref:O,class:"h-[100px] w-full"},null,512)]),a("div",ya,[va,a("div",fa,[a("p",null,[i(" 你每周 "),a("span",xa,d(N.value),1),i(" 最忙 ")]),a("p",null,[i(" 这一天里你平均做完整周 "),a("span",wa,d((l(D)/(((o=l(s))==null?void 0:o.total_time)??l(D))*100).toFixed(1))+"%",1),i(" 的工作 ")]),a("div",{ref_key:"weekdayChart",ref:$,class:"h-[100px] w-full"},null,512)])]),a("div",ba,[ga,a("div",ka,[a("p",null,[i(" 你每个月这五天最忙： "),a("span",Ca,d((t=l(s))==null?void 0:t.time_by_month_day.slice(0,5).map(p=>p[0]).join(", ")),1)])]),a("div",{ref_key:"monthDayChart",ref:F,class:"h-[130px] w-full"},null,512)]),a("div",Da,[Ma,a("div",Oa,[a("p",null,[i(" 你在 "),a("span",$a,d(l(B)(M.value).dayOfYear(((_=l(s))==null?void 0:_.time_by_day[0][0])??1).format("LL")),1),i(" 创下了"),a("span",{class:"d2",innerHTML:l(P)(((L=l(s))==null?void 0:L.time_by_day[0][1])??0,!0,!1)},null,8,Fa),i("的记录 ")])]),a("div",Ia,[a("div",Ta,[(v(!0),w(E,null,V((H=l(s))==null?void 0:H.time_by_day,p=>(v(),G(da,{key:p[0],day:l(B)(M.value).dayOfYear(p[0]).format("M月D日"),time:p[1]},null,8,["day","time"]))),128))])])])])}}}),ja=J(Sa,[["__scopeId","data-v-e5e3ee5e"]]);export{ja as default};
